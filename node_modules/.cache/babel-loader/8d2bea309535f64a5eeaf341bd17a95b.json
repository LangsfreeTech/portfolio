{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Satyam/Desktop/langs/LangsFree-project/Satyam/langsfree/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Satyam/Desktop/langs/LangsFree-project/Satyam/langsfree/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"C:/Users/Satyam/Desktop/langs/LangsFree-project/Satyam/langsfree/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _createForOfIteratorHelper from\"C:/Users/Satyam/Desktop/langs/LangsFree-project/Satyam/langsfree/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _toConsumableArray from\"C:/Users/Satyam/Desktop/langs/LangsFree-project/Satyam/langsfree/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/Satyam/Desktop/langs/LangsFree-project/Satyam/langsfree/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import'../Form.css';import axios from'axios';var restUrl=\"http://localhost/moglie-api/\";var Register=function Register(){var _useState=useState({error:[]}),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState({name:\"\",email:\"\",password:\"\",active:\"\"}),_useState4=_slicedToArray(_useState3,2),users=_useState4[0],setUsers=_useState4[1];var showValidationErr=function showValidationErr(elm,msg){setError(function(prevState){return{error:[].concat(_toConsumableArray(prevState.error),[{elm:elm,msg:msg}])};});};var clearValidationErr=function clearValidationErr(elm){setError(function(prevState){var newArr=[];var _iterator=_createForOfIteratorHelper(prevState.error),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var err=_step.value;if(elm!==err.elm){newArr.push(err);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return newArr;});};var onnameChange=function onnameChange(e){setUsers(_objectSpread(_objectSpread({},users),{},{name:e.target.value}));// clearValidationErr(\"name\");\n};var onEmailChange=function onEmailChange(e){setUsers(_objectSpread(_objectSpread({},users),{},{email:e.target.value}));// clearValidationErr(\"email\");\n};var onPasswordChange=function onPasswordChange(e){setUsers(_objectSpread(_objectSpread({},users),{},{password:e.target.value}));// clearValidationErr(\"password\");\n};var submitRegister=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _yield$axios$post,data,status;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(users.name===\"\"){showValidationErr(\"name\",\"name cannot be empty\");}if(users.email===\"\"){showValidationErr(\"email\",\"Email cannot be empty\");}if(users.password===\"\"){showValidationErr(\"password\",\"Password cannot be empty\");}if(!(users.name!==\"\"&&users.email!==\"\"&&users.password!==\"\")){_context.next=12;break;}_context.next=6;return axios.post(restUrl+'create-user-api.php',{name:users.name,email:users.email,password:users.password,active:1});case 6:_yield$axios$post=_context.sent;data=_yield$axios$post.data;status=_yield$axios$post.status;if(status===200){setUsers(data);// setUsers({ name: \"\", email: \"\", password: \"\" })\n}_context.next=14;break;case 12:setError(\"Fields are required\");return _context.abrupt(\"return\");case 14:case\"end\":return _context.stop();}}},_callee);}));return function submitRegister(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"inner-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",method:\"POST\",name:\"name\",className:\"login-input\",placeholder:\"name\",onChange:onnameChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",method:\"POST\",name:\"email\",className:\"login-input\",placeholder:\"Email\",onChange:onEmailChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",method:\"POST\",name:\"password\",className:\"login-input\",placeholder:\"Password\",onChange:onPasswordChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"login-btn\",onClick:submitRegister,children:\"Register\"})]})]});};export default Register;","map":{"version":3,"sources":["C:/Users/Satyam/Desktop/langs/LangsFree-project/Satyam/langsfree/src/components/Register.js"],"names":["React","useState","useEffect","axios","restUrl","Register","error","setError","name","email","password","active","users","setUsers","showValidationErr","elm","msg","prevState","clearValidationErr","newArr","err","push","onnameChange","e","target","value","onEmailChange","onPasswordChange","submitRegister","post","data","status"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport '../Form.css';\r\nimport axios from 'axios';\r\n\r\nconst restUrl = \"http://localhost/moglie-api/\"\r\n\r\nconst Register = () => {\r\n\r\n  const [error, setError] = useState({ error: [] });\r\n  const [users, setUsers] = useState({ name: \"\", email: \"\", password: \"\", active: \"\" })\r\n\r\n  const showValidationErr = (elm, msg) => {\r\n    setError((prevState) => ({ error: [...prevState.error, { elm, msg }] }))\r\n\r\n  }\r\n\r\n  const clearValidationErr = (elm) => {\r\n    setError((prevState) => {\r\n      let newArr = [];\r\n      for (let err of prevState.error) {\r\n        if (elm !== err.elm) {\r\n          newArr.push(err);\r\n        }\r\n      }\r\n      return newArr;\r\n    });\r\n  }\r\n\r\n  const onnameChange = (e) => {\r\n    setUsers({ ...users, name: e.target.value })\r\n    // clearValidationErr(\"name\");\r\n  }\r\n  const onEmailChange = (e) => {\r\n    setUsers({ ...users, email: e.target.value })\r\n    // clearValidationErr(\"email\");\r\n  }\r\n  const onPasswordChange = (e) => {\r\n    setUsers({ ...users, password: e.target.value })\r\n    // clearValidationErr(\"password\");\r\n  }\r\n\r\n\r\n  const submitRegister = async (e) => {\r\n\r\n    if (users.name === \"\") {\r\n      showValidationErr(\"name\", \"name cannot be empty\")\r\n    } if (users.email === \"\") {\r\n      showValidationErr(\"email\", \"Email cannot be empty\")\r\n    } if (users.password === \"\") {\r\n      showValidationErr(\"password\", \"Password cannot be empty\")\r\n    }\r\n\r\n    if (users.name !== \"\" && users.email !== \"\" && users.password !== \"\") {\r\n      const { data, status } = await axios.post(restUrl + 'create-user-api.php', {\r\n        name: users.name,\r\n        email: users.email,\r\n        password: users.password,\r\n        active: 1\r\n      })\r\n      if (status === 200) {\r\n        setUsers(data)\r\n        // setUsers({ name: \"\", email: \"\", password: \"\" })\r\n      }\r\n\r\n    } else {\r\n      setError(\"Fields are required\");\r\n      return;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"inner-container\">\r\n      <div className=\"header\">\r\n        Register\r\n        </div>\r\n      <div className=\"box\">\r\n        <div className=\"input-group\">\r\n          <label htmlFor=\"name\">name</label>\r\n          <input\r\n            type=\"text\"\r\n            method=\"POST\"\r\n            name=\"name\"\r\n            className=\"login-input\"\r\n            placeholder=\"name\"\r\n            onChange={onnameChange}\r\n          />\r\n          {/* <small className=\"danger-error\">{nameErr ? nameErr : \"\"}</small> */}\r\n        </div>\r\n\r\n        <div className=\"input-group\">\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input type=\"text\"\r\n            method=\"POST\"\r\n            name=\"email\"\r\n            className=\"login-input\"\r\n            placeholder=\"Email\"\r\n            onChange={onEmailChange}\r\n          />\r\n          {/* <small className=\"danger-error\">{emailErr ? emailErr : \"\"}</small> */}\r\n        </div>\r\n\r\n        <div className=\"input-group\">\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            method=\"POST\"\r\n            name=\"password\"\r\n            className=\"login-input\"\r\n            placeholder=\"Password\"\r\n            onChange={onPasswordChange}\r\n          />\r\n          {/* <small className=\"danger-error\">{passwordErr ? passwordErr : \"\"}</small> */}\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"login-btn\"\r\n          onClick={submitRegister\r\n          }>Register\r\n        </button>\r\n      </div>\r\n      {/* {error && (\r\n        <Alert severity=\"error\" onClick={() => setError(null)}>\r\n          {props.error || error}\r\n        </Alert>\r\n      )} */}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}